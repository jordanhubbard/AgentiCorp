id: bd-011
type: task
title: P1 (sticky) Maintain continuously refreshed architecture diagram
description: |
    This is a sticky, ongoing bead.

    Goal
    - Maintain an up-to-date architecture diagram that reflects the current
      AgentiCorp system.

    Trigger conditions (update is required when ANY occur)
    - A new service is added
    - A new agent type or core agent lifecycle feature is added
    - A new persona is added or persona responsibilities materially change
    - A new feature is added that is tracked as an EPIC bead (must update diagram)

    Requirements
    - Architecture diagram must be refreshed as necessary and remain accurate.
    - Diagram should reflect:
      - Services (API server, Temporal, DB/key manager, UI, etc.)
      - Major subsystems and data flow (beads, decisions, dispatch, event bus)
      - How personas/agents interact with beads and decisions
    - Store the diagram in a stable location under docs/ (e.g., docs/architecture/)
      and/or update ARCHITECTURE.md if that is the canonical home.

    Conventions
    - Prefer a text-based diagram that is easy to diff (Mermaid or ASCII) unless a
      rendered asset is required.
    - The diagram should include the date of last update.
status: in_progress
priority: 1
projectid: ""
assignedto: agent-1768861966-project-manager
blockedby: []
blocks: []
relatedto: []
parent: ""
children: []
tags:
    - p1
    - sticky
    - architecture
    - diagram
    - docs
context:
    agent_id: agent-1768861966-project-manager
    dispatch_history: '["agent-1768861966-project-manager"]'
    last_run_at: "2026-01-20T00:44:26Z"
    last_run_error: 'task execution failed: failed to get completion: failed to send request: Post "http://localhost:8000/v1/chat/completions": dial tcp [::1]:8000: connect: connection refused'
    loop_detected: "false"
    note: This bead should not be closed; it represents an ongoing requirement.
    provider_id: bootstrap-local
    redispatch_requested: "false"
    source: user-request
createdat: 0001-01-01T00:00:00Z
updatedat: 2026-01-19T16:44:26.014153-08:00
closedat: null
