id: bd-011
type: task
title: P1 (sticky) Maintain continuously refreshed architecture diagram
description: |
    This is a sticky, ongoing bead.

    Goal
    - Maintain an up-to-date architecture diagram that reflects the current
      AgentiCorp system.

    Trigger conditions (update is required when ANY occur)
    - A new service is added
    - A new agent type or core agent lifecycle feature is added
    - A new persona is added or persona responsibilities materially change
    - A new feature is added that is tracked as an EPIC bead (must update diagram)

    Requirements
    - Architecture diagram must be refreshed as necessary and remain accurate.
    - Diagram should reflect:
      - Services (API server, Temporal, DB/key manager, UI, etc.)
      - Major subsystems and data flow (beads, decisions, dispatch, event bus)
      - How personas/agents interact with beads and decisions
    - Store the diagram in a stable location under docs/ (e.g., docs/architecture/)
      and/or update ARCHITECTURE.md if that is the canonical home.

    Conventions
    - Prefer a text-based diagram that is easy to diff (Mermaid or ASCII) unless a
      rendered asset is required.
    - The diagram should include the date of last update.

    Recent Update (January 20, 2026)
    - Added comprehensive Mermaid diagrams:
      * System Component Diagram showing all managers and data flow
      * Bead Processing Sequence Diagram
      * Org Chart Structure visualization
    - Updated component documentation to include:
      * Org Chart System (section 5)
      * Model Catalog System (section 6)
      * Testing Infrastructure (section 11)
    - Preserved legacy ASCII diagram for backwards compatibility
    - Added "Last Updated" timestamp at document header
    - Renumbered all sections to maintain consistency
    
status: open
priority: 1
projectid: ""
assignedto: agent-1768861966-project-manager
blockedby: []
blocks: []
relatedto: []
parent: ""
children: []
tags:
    - p1
    - sticky
    - architecture
    - diagram
    - docs
context:
    agent_id: agent-1768861966-project-manager
    dispatch_history: '["agent-1768861966-project-manager"]'
    last_run_at: "2026-01-20T00:44:26Z"
    last_run_error: 'task execution failed: failed to get completion: failed to send request: Post "http://localhost:8000/v1/chat/completions": dial tcp [::1]:8000: connect: connection refused'
    loop_detected: "false"
    note: This bead should not be closed; it represents an ongoing requirement.
    provider_id: bootstrap-local
    redispatch_requested: "false"
    source: user-request
createdat: 0001-01-01T00:00:00Z
updatedat: 2026-01-20T16:52:43Z
closedat: null
