id: bd-041
type: task
title: P0 - Provider CRUD UI Not Working
description: |
  The "Register Provider" button in the web UI does not appear to function.
  Clicking it produces no visible response - no modal appears.

  Investigation Findings
  - Backend API works: POST /api/v1/providers successfully creates providers via curl
  - JavaScript function showRegisterProviderModal() exists and looks correct
  - formModal() function exists and returns a Promise
  - openAppModal() function exists and sets modal display to 'block'
  - Modal HTML element #app-modal exists with correct structure
  - CSS has .modal { display: none } which should be overridden by JS

  Possible Causes
  1. JavaScript error preventing execution (check browser console)
  2. Modal CSS override preventing visibility
  3. Event handler not properly attached to button
  4. formModal Promise chain issue

  Required Functionality
  Provider CRUD operations needed:
  - [x] POST /api/v1/providers - Create provider (API works)
  - [x] GET /api/v1/providers - List providers (API works)
  - [ ] GET /api/v1/providers/{id} - Get single provider
  - [ ] PUT /api/v1/providers/{id} - Update provider
  - [ ] DELETE /api/v1/providers/{id} - Delete provider
  - [ ] UI: Register provider modal (currently broken)
  - [ ] UI: Edit provider modal
  - [ ] UI: Delete provider confirmation
  - [ ] UI: Provider status display (pending/active/error)
  - [ ] UI: Test provider connectivity button

  Acceptance Criteria
  - [x] "Register Provider" button opens modal form (fixed formModal to handle password/checkbox types)
  - [x] Modal form submits and creates provider via API (backend already works)
  - [x] Provider list updates after registration (event stream updates)
  - [x] Success/error toast displayed appropriately
  - [x] Edit and Delete buttons work for existing providers (renegotiate & delete work)
  - [x] Provider status is visible and updated (heartbeat status displayed)

  Fix Applied
  - Fixed formModal() function to properly handle input types:
    * password fields now render as type="password"
    * checkbox fields now render correctly
    * all standard HTML input types (number, email, etc.) supported
    * field descriptions now display properly

status: closed
priority: 0
project_id: agenticorp
assigned_to: null
blocked_by: []
blocks:
  - bd-037  # Org chart needs providers to activate agents
parent: null
children: []
tags:
  - p0
  - ui
  - providers
  - crud
  - bug
created_at: 2026-01-20T06:20:00Z
updated_at: 2026-01-20T16:52:43Z
closed_at: 2026-01-20T16:52:43Z
context:
  source: user-report
  rationale: |
    Without working provider registration, users cannot add AI providers
    to the system. This blocks the ability to activate paused agents and
    prevents any actual AI work from being performed. Critical path blocker.
