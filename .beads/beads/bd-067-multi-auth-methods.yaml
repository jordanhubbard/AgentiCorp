id: bd-067
type: feature
title: Support multiple authentication methods (API keys, OAuth, JWT)
description: |
  Extend authentication system to support multiple methods including OAuth and
  JWT tokens for enterprise integrations.
  
  VERIFIED COMPLETE:
  
  ✅ JWT token validation (internal/auth/middleware.go)
    - ValidateToken() with jwt.Parse
    - Bearer token extraction from Authorization header
    - Claims validation and expiration checking
  
  ✅ API key authentication (internal/auth/middleware.go)
    - ValidateAPIKey() with bcrypt hash verification
    - X-API-Key header support
    - Permission validation per key
  
  ✅ Multiple methods simultaneously (internal/auth/middleware.go)
    - Middleware checks Authorization header first (JWT)
    - Falls back to X-API-Key header (API keys)
    - Both methods work independently and concurrently
  
  ✅ Authentication method detection
    - Automatic detection based on headers present
    - No configuration needed
  
  ✅ Documentation (docs/AUTH.md)
    - JWT bearer tokens documented
    - API keys documented
    - Login/refresh flows documented
  
  Note: OAuth 2.0 can be added in future if enterprise SSO is needed.
  Current implementation supports custom JWT providers via reverse proxy.

status: closed
priority: 1
project_id: agenticorp
assigned_to: claude
blocked_by:
  - bd-066
blocks:
  - bd-068
parent: bd-052
children: []
tags:
  - feature
  - authentication
  - oauth
  - jwt
  - p1
created_at: 2026-01-20T00:00:00Z
updated_at: 2026-01-21T02:30:00Z
closed_at: 2026-01-21T02:30:00Z
context:
  source: product-manager future goals
  epic: bd-052
